\subsubsection{Update Source Code After Service Change}
\label{subsubsec:UseCase:FixClientApp}

\vspace{-2mm}
\begin{center}
    \def\arraystretch{1.5}
    \begin{longtable}{ p{0.22\linewidth} p{0.72\linewidth} }
    \hline
        \textit{Source} & Web API consumer\\
    \hline
        \textit{Stimulus} & The client application crashes after a modified Web API is published.\\
    \hline
    	\textit{Environment} & \textbf{Preconditions:} 
    	\begin{itemize}
    		\item The client application integrates a Web API via library code generated by our migration tool. 
    		\item Execution is either triggered manually or as part of a CI/CD pipeline of the client application. 
    		\item The latest release of a Web API introduced breaking changes either to its public interface or behavior. 
    		\item The Web API provider published a machine-readable migration guide along with an updated IDL document.
    	\end{itemize}
    	
    	\textbf{Postcondition:} Client application's dependency must be updated to use the latest version of the generated library code.
    	\\
    \hline
    	\textit{Artefact} & Migration tool\\
    \hline
    \textit{Response} &
    \vspace{-5.1mm}
    \begin{enumerate}[itemindent=-9pt, leftmargin=14pt, itemsep=0pt, align=left]
        \item The migration tool retrieves the updated IDL document and the migration guide from their URIs.
        \item The migration tool checks the changes specified in the migration guide for consistency and correctness. If this check fails, execution is aborted and an error is raised.
        \item The migration tool parses the information from the IDL document and generates library code encapsulating lower level HTTP calls. This code is for internal use only and cannot be accessed publicly.
        \item The migration tool uses the information from the migration guide to adapt the behavior of the previously generated facade layer without modifying the public interface of the facade.
        \item The migration tool generates related meta files to facilitate integrating the output via dependency management.
    \end{enumerate} \\ [-5mm]
    \hline
    \textit{Response Measure} &
    \vspace{-8.5mm}
    \begin{itemize}[itemindent=-9pt, leftmargin=14pt, itemsep=0pt, align=left]
    	\item Error: Execution fails if the IDL document is unavailable or incorrect.
       	\item Error: Execution fails if changes stated in the migration guide are contradicting or incompatible.
       	\item Success: Output compiles and requests/responses to/from the Web API are processed without errors. 
        \vspace{-5mm}
    \end{itemize}\\
    \hline
    \end{longtable}
\end{center}